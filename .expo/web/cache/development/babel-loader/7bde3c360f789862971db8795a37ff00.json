{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/arjun/Desktop/taste-it-customer/components/screens/homeScreen/OrderConfirmation.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport H1 from \"../../texts/H1\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { getSubmitOrder, getCustomerAddress, getDeliveryTime } from \"../../../services/api\";\n\nvar OrderConfirmation = function OrderConfirmation(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var menuID = route.params.menuID;\n  var price = route.params.price;\n  var meal = route.params.meal;\n  var restaurantID = route.params.restaurantID;\n  var subtotal = meal * price;\n  var taxNum = subtotal * 0.1;\n  var tax = taxNum.toFixed(2);\n  var totalNum = subtotal + taxNum;\n  var total = totalNum.toFixed(2);\n\n  var _React$useState = React.useState({\n    address: \"\",\n    city: \"\",\n    postcode: \"\",\n    time: \"\",\n    isLoaded: true\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      data = _React$useState2[0],\n      setData = _React$useState2[1];\n\n  useEffect(function () {\n    var addressTest = \"\";\n    var cityTest = \"\";\n    var postcodeTest = \"\";\n    getCustomerAddress().then(function (res) {\n      addressTest = res.address;\n      cityTest = res.cityDescription;\n      postcodeTest = res.postcode;\n    }, function (err) {\n      console.log(err);\n    });\n    getDeliveryTime(restaurantID).then(function (res) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        postcode: postcodeTest,\n        city: cityTest,\n        address: addressTest,\n        time: res,\n        isLoaded: false\n      }));\n    }, function (err) {\n      console.log(err);\n    });\n  }, []);\n\n  var orderSubmitHandle = function orderSubmitHandle() {\n    getSubmitOrder(menuID).then(function (res) {\n      console.log(res);\n      alert(\"order sent\");\n      navigation.navigate(\"OrderTab\");\n    }, function (err) {\n      console.log(err);\n      Alert.alert(\"Error\", \"Something went wrong! \" + err);\n    });\n  };\n\n  if (data.isLoaded) {\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }\n    }));\n  } else {\n    return React.createElement(ScrollView, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 7\n      }\n    }, React.createElement(H1, {\n      h1Text: \"Order Confirmation\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.h3Header,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 13\n      }\n    }, \"Delivery Address\"), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: styles.orderConfText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 15\n      }\n    }, data.address, \" \", data.city, \" \", data.postcode))), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      style: styles.h3Header,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 13\n      }\n    }, \"Estimated Delivery Time\"), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: styles.orderConfText,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, data.time)))), React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }\n    }, React.createElement(View, {\n      style: styles.billingDetails,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 13\n      }\n    }, \"Sub Total\"), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }\n    }, \"x\", meal, \" Meals\"), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }, subtotal)), React.createElement(View, {\n      style: styles.billingDetails,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, \"Tax\"), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }\n    }, \"10%\"), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, tax)), React.createElement(View, {\n      style: styles.billingDetails,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 11\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 13\n      }\n    }, \"Order Total\"), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }, total))), React.createElement(Button, {\n      title: \"Submit Order\",\n      type: \"submit\",\n      onPress: function onPress() {\n        return orderSubmitHandle();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }\n    }));\n  }\n};\n\nexport default OrderConfirmation;\nvar styles = StyleSheet.create({});","map":{"version":3,"sources":["/Users/arjun/Desktop/taste-it-customer/components/screens/homeScreen/OrderConfirmation.js"],"names":["React","useEffect","H1","NavigationContainer","getSubmitOrder","getCustomerAddress","getDeliveryTime","OrderConfirmation","route","navigation","menuID","params","price","meal","restaurantID","subtotal","taxNum","tax","toFixed","totalNum","total","useState","address","city","postcode","time","isLoaded","data","setData","addressTest","cityTest","postcodeTest","then","res","cityDescription","err","console","log","orderSubmitHandle","alert","navigate","Alert","flex","justifyContent","alignItems","styles","h3Header","orderConfText","billingDetails","StyleSheet","create"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport { StyleSheet, Text, View, ScrollView, Button, ActivityIndicator } from \"react-native\";\nimport H1 from \"../../texts/H1\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport {\n  getSubmitOrder,\n  getCustomerAddress,\n  getDeliveryTime,\n} from \"../../../services/api\";\n\nconst OrderConfirmation = ({ route, navigation }) => {\n  const { menuID } = route.params;\n  const { price } = route.params;\n  const { meal } = route.params;\n  const { restaurantID } = route.params;\n\n  const subtotal = meal * price;\n  let taxNum = subtotal * 0.1;\n  const tax = taxNum.toFixed(2);\n  let totalNum = subtotal + taxNum;\n  const total = totalNum.toFixed(2);\n\n  const [data, setData] = React.useState({\n    address: \"\",\n    city: \"\",\n    postcode: \"\",\n    time: \"\",\n    isLoaded: true\n  });\n\n  useEffect(() => {\n\n   \n    // setTimeout(() => {\n\n    let addressTest = \"\"\n    let cityTest = \"\"\n    let postcodeTest = \"\"\n      getCustomerAddress().then(\n        (res) => {\n          addressTest = res.address\n          cityTest = res.cityDescription\n          postcodeTest = res.postcode\n          // setData({\n          //   ...data,\n          //   address: res.address,\n          //   city: res.cityDescription,\n          //   postcode: res.postcode,\n          //   isLoaded: false\n          // });\n        },\n        (err) => {\n          console.log(err);\n        }\n      );\n        \n    // }, 1000);\n    getDeliveryTime(restaurantID).then(\n      (res) => {\n        setData({\n          ...data,\n          postcode: postcodeTest,\n          city: cityTest,\n          address: addressTest,\n          time: res,\n          isLoaded: false\n        });\n      },\n      (err) => {\n        console.log(err);\n      }\n    );\n   \n    \n  }, []);\n\n  const orderSubmitHandle = () => {\n    getSubmitOrder(menuID).then(\n      (res) => {\n        console.log(res);\n        alert(\"order sent\");\n        // props.onHandleHomeChange(res,data.numberOfPeople);\n        navigation.navigate(\"OrderTab\");\n      },\n      (err) => {\n        console.log(err);\n        Alert.alert(\"Error\", `Something went wrong! ${err}`);\n      }\n    );\n  };\n  if (data.isLoaded) {\n    return (\n      <View\n        style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}\n      >\n        <ActivityIndicator size=\"large\" />\n      </View>\n    );\n  } else{\n    return (\n      <ScrollView>\n        <H1 h1Text=\"Order Confirmation\" />\n        <View>\n          <View>\n            <Text style={styles.h3Header}>Delivery Address</Text>\n            <View>\n              {/* <Image /> */}\n              <Text style={styles.orderConfText}>\n                {data.address} {data.city} {data.postcode}\n              </Text>\n            </View>\n          </View>\n          <View>\n            <Text style={styles.h3Header}>Estimated Delivery Time</Text>\n            <View>\n              {/* <Image /> */}\n              <Text style={styles.orderConfText}>{data.time}</Text>\n            </View>\n          </View>\n        </View>\n\n        <View>\n          <View style={styles.billingDetails}>\n            <Text>Sub Total</Text>\n            <Text>x{meal} Meals</Text>\n            <Text>{subtotal}</Text>\n          </View>\n          <View style={styles.billingDetails}>\n            <Text>Tax</Text>\n            <Text>10%</Text>\n            <Text>{tax}</Text>\n          </View>\n          <View style={styles.billingDetails}>\n            <Text>Order Total</Text>\n            <Text>{total}</Text>\n          </View>\n        </View>\n\n        <Button\n          title=\"Submit Order\"\n          type=\"submit\"\n          onPress={() => orderSubmitHandle()}\n          // onPress={() => navigation.navigate(\"YourOrderScreen\")}\n        />\n      </ScrollView>\n    );\n  }\n};\n\nexport default OrderConfirmation;\n\nconst styles = StyleSheet.create({});\n"]},"metadata":{},"sourceType":"module"}