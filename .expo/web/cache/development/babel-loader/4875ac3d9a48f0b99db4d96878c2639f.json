{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/Users/arjun/Desktop/taste-it-customer/components/screens/profileScreens/EditFlavourProfile.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createMaterialTopTabNavigator } from \"@react-navigation/material-top-tabs\";\nimport React, { Component } from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport AllergyOptions from \"../onboardingScreens/flavourProfile/AllergyOptions\";\nimport CuisineOptions from \"../onboardingScreens/flavourProfile/CuisineOptions\";\nimport DietTypes from \"../onboardingScreens/flavourProfile/DietTypes\";\nimport H1 from \"../../texts/H1\";\nimport SpicinessOptions from \"../onboardingScreens/flavourProfile/SpicinessOptions\";\nimport { getSpiciness, getAllergy, getCuisine, getDietType, postChoice, getCustomerChoices, getDeactivateChoices } from \"../../../services/api\";\nvar MaterialTopTabs = createMaterialTopTabNavigator();\n\nvar EditFlavourProfile = function (_Component) {\n  _inherits(EditFlavourProfile, _Component);\n\n  var _super = _createSuper(EditFlavourProfile);\n\n  function EditFlavourProfile(props) {\n    var _this;\n\n    _classCallCheck(this, EditFlavourProfile);\n\n    _this = _super.call(this, props);\n\n    _this.onNext = function () {\n      getDeactivateChoices().then(function (res) {\n        console.log(res);\n      }, function (error) {\n        console.log(error);\n        Alert.alert(\"Error\", \"Something went wrong! \" + error);\n      });\n\n      var spicinessArray = _this.getSelectedSpiciness();\n\n      var cuisinesArray = _this.getSelectedCuisines();\n\n      var dietTypesArray = _this.getSelectedDietTypes();\n\n      var allergiesArray = _this.getSelectedAllergies();\n\n      var finalArray = [].concat(_toConsumableArray(spicinessArray), _toConsumableArray(cuisinesArray), _toConsumableArray(dietTypesArray), _toConsumableArray(allergiesArray));\n\n      if (_this.state.isSpiciness !== true || _this.state.isAllergies !== true || _this.state.isCuisines !== true || _this.state.isDietTypes !== true) {\n        for (var i = 0; i < finalArray.length; i++) {\n          postChoice(finalArray[i]).then(function (res) {\n            console.log(res);\n          }, function (error) {\n            console.log(error);\n            Alert.alert(\"Error\", \"Something went wrong! \" + error);\n          });\n        }\n\n        Alert.alert(\"successfull\", \"choices saved\");\n\n        _this.props.navigation.navigate(\"Footer\");\n      } else if (_this.state.isSpiciness === true && _this.state.isAllergies === true && _this.state.isCuisines === true && _this.state.isDietTypes === true) {\n        Alert.alert(\"Choices Missing\", \"Please Select Choices by switching tabs\");\n      }\n    };\n\n    _this.handleSpicinessChange = function (update) {\n      _this.setState({\n        spicinessData: update\n      });\n    };\n\n    _this.handleAllergiesChange = function (update) {\n      _this.setState({\n        allergiesData: update\n      });\n    };\n\n    _this.handleDietTypesChange = function (update) {\n      _this.setState({\n        dietTypesData: update\n      });\n    };\n\n    _this.handleCuisinesChange = function (update) {\n      _this.setState({\n        cuisinesData: update\n      });\n    };\n\n    _this.createTopTabs = function () {\n      return React.createElement(MaterialTopTabs.Navigator, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 7\n        }\n      }, React.createElement(MaterialTopTabs.Screen, {\n        name: \"Allergies\",\n        children: function children() {\n          return React.createElement(AllergyOptions, {\n            allergies: _this.state.allergiesData,\n            updateAllergies: _this.handleAllergiesChange,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 13\n            }\n          });\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 9\n        }\n      }), React.createElement(MaterialTopTabs.Screen, {\n        name: \"Cuisines\",\n        children: function children() {\n          return React.createElement(CuisineOptions, {\n            cuisines: _this.state.cuisinesData,\n            updateCuisines: _this.handleCuisinesChange,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 13\n            }\n          });\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 9\n        }\n      }), React.createElement(MaterialTopTabs.Screen, {\n        name: \"Diet Choices\",\n        children: function children() {\n          return React.createElement(DietTypes, {\n            dietTypes: _this.state.dietTypesData,\n            updateDietTypes: _this.handleDietTypesChange,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 13\n            }\n          });\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 9\n        }\n      }), React.createElement(MaterialTopTabs.Screen, {\n        name: \"Spiciness\",\n        children: function children() {\n          return React.createElement(SpicinessOptions, {\n            spiciness: _this.state.spicinessData,\n            updateSpiciness: _this.handleSpicinessChange,\n            __self: _assertThisInitialized(_this),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 338,\n              columnNumber: 13\n            }\n          });\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 9\n        }\n      }));\n    };\n\n    _this.state = {\n      spicinessData: [],\n      allergiesData: [],\n      dietTypesData: [],\n      cuisinesData: [],\n      isLoaded: true,\n      isSpiciness: true,\n      isCuisines: true,\n      isDietTypes: true,\n      isAllergies: true,\n      isChoicesLoaded: true\n    };\n    _this.handleSpicinessChange = _this.handleSpicinessChange.bind(_assertThisInitialized(_this));\n    _this.getSelectedSpiciness = _this.getSelectedSpiciness.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(EditFlavourProfile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      getSpiciness().then(function (res) {\n        _this2.setState({\n          isLoaded: false\n        });\n\n        var needData = [];\n\n        for (var i = 0; i < res.length; i++) {\n          needData.push({\n            id: i,\n            key: res[i].choiceDescription,\n            checked: false\n          });\n        }\n\n        _this2.setState({\n          spicinessData: needData\n        });\n      }, function (error) {\n        Alert.alert(\"Error\", \"Something went wrong! \" + error);\n      });\n      getDietType().then(function (res) {\n        _this2.setState({\n          isLoaded: false\n        });\n\n        var needData = [];\n\n        for (var i = 0; i < res.length; i++) {\n          needData.push({\n            id: i,\n            key: res[i].choiceDescription,\n            checked: false\n          });\n        }\n\n        _this2.setState({\n          dietTypesData: needData\n        });\n      }, function (error) {\n        Alert.alert(\"Error\", \"Something went wrong! \" + error);\n      });\n      getCuisine().then(function (res) {\n        _this2.setState({\n          isLoaded: false\n        });\n\n        var needData = [];\n\n        for (var i = 0; i < res.length; i++) {\n          needData.push({\n            id: i,\n            key: res[i].choiceDescription,\n            checked: false\n          });\n        }\n\n        _this2.setState({\n          cuisinesData: needData\n        });\n      }, function (error) {\n        Alert.alert(\"Error\", \"Something went wrong! \" + error);\n      });\n      getAllergy().then(function (res) {\n        var needData = [];\n\n        for (var i = 0; i < res.length; i++) {\n          needData.push({\n            id: i,\n            key: res[i].choiceDescription,\n            checked: false\n          });\n        }\n\n        _this2.setState({\n          allergiesData: needData\n        });\n      }, function (error) {\n        Alert.alert(\"Error\", \"Something went wrong! \" + error);\n      });\n      getCustomerChoices().then(function (res) {\n        for (var i = 0; i < res.length; i++) {\n          if (res[i].category === \"Allergens\") {\n            for (var k = 0; k < _this2.state.allergiesData.length; k++) {\n              if (_this2.state.allergiesData[k].key === res[i].choiceDescription) {\n                _this2.state.allergiesData[k].checked = true;\n              }\n            }\n          } else if (res[i].category === \"Spiciness\") {\n            for (var _k = 0; _k < _this2.state.spicinessData.length; _k++) {\n              if (_this2.state.spicinessData[_k].key === res[i].choiceDescription) {\n                _this2.state.spicinessData[_k].checked = true;\n              }\n            }\n          } else if (res[i].category === \"Cuisines\") {\n            for (var _k2 = 0; _k2 < _this2.state.cuisinesData.length; _k2++) {\n              if (_this2.state.cuisinesData[_k2].key === res[i].choiceDescription) {\n                _this2.state.cuisinesData[_k2].checked = true;\n              }\n            }\n          } else if (res[i].category === \"Diet Types\") {\n            for (var _k3 = 0; _k3 < _this2.state.dietTypesData.length; _k3++) {\n              if (_this2.state.dietTypesData[_k3].key === res[i].choiceDescription) {\n                _this2.state.dietTypesData[_k3].checked = true;\n              }\n            }\n          }\n        }\n\n        _this2.setState({\n          isChoicesLoaded: false,\n          isSpiciness: false,\n          isCuisines: false,\n          isDietTypes: false,\n          isAllergies: false\n        });\n      }, function (error) {\n        Alert.alert(\"Error\", \"Something went wrong! \" + error);\n      });\n    }\n  }, {\n    key: \"getSelectedSpiciness\",\n    value: function getSelectedSpiciness() {\n      var keys = this.state.spicinessData.map(function (k) {\n        return k.key;\n      });\n      var checks = this.state.spicinessData.map(function (k) {\n        return k.checked;\n      });\n      var Selected = [];\n\n      for (var i = 0; i < checks.length; i++) {\n        if (checks[i] == true) {\n          Selected.push(keys[i]);\n        }\n      }\n\n      this.setState({\n        isSpiciness: false\n      });\n      return Selected;\n    }\n  }, {\n    key: \"getSelectedCuisines\",\n    value: function getSelectedCuisines() {\n      var keys = this.state.cuisinesData.map(function (k) {\n        return k.key;\n      });\n      var checks = this.state.cuisinesData.map(function (k) {\n        return k.checked;\n      });\n      var Selected = [];\n\n      for (var i = 0; i < checks.length; i++) {\n        if (checks[i] == true) {\n          Selected.push(keys[i]);\n        }\n      }\n\n      this.setState({\n        isCuisines: false\n      });\n      return Selected;\n    }\n  }, {\n    key: \"getSelectedDietTypes\",\n    value: function getSelectedDietTypes() {\n      var keys = this.state.dietTypesData.map(function (k) {\n        return k.key;\n      });\n      var checks = this.state.dietTypesData.map(function (k) {\n        return k.checked;\n      });\n      var Selected = [];\n\n      for (var i = 0; i < checks.length; i++) {\n        if (checks[i] == true) {\n          Selected.push(keys[i]);\n        }\n      }\n\n      this.setState({\n        isDietTypes: false\n      });\n      return Selected;\n    }\n  }, {\n    key: \"getSelectedAllergies\",\n    value: function getSelectedAllergies() {\n      var keys = this.state.allergiesData.map(function (k) {\n        return k.key;\n      });\n      var checks = this.state.allergiesData.map(function (k) {\n        return k.checked;\n      });\n      var Selected = [];\n\n      for (var i = 0; i < checks.length; i++) {\n        if (checks[i] == true) {\n          Selected.push(keys[i]);\n        }\n      }\n\n      this.setState({\n        isAllergies: false\n      });\n      return Selected;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      if (this.state.isLoaded && this.state.isChoicesLoaded) {\n        return React.createElement(View, {\n          style: {\n            flex: 1,\n            justifyContent: \"center\",\n            alignItems: \"center\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 9\n          }\n        }, React.createElement(ActivityIndicator, {\n          size: \"large\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 11\n          }\n        }));\n      } else {\n        return React.createElement(ScrollView, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 9\n          }\n        }, React.createElement(View, {\n          style: styles.page,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 11\n          }\n        }, React.createElement(H1, {\n          h1Text: \"Flavour Profile\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }\n        }), React.createElement(Text, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }\n        }, \"Tell us what you love\"), React.createElement(NavigationContainer, {\n          independent: true,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }\n        }, this.createTopTabs()), React.createElement(Button, {\n          title: \"Next\",\n          onPress: function onPress() {\n            _this3.onNext();\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 13\n          }\n        })));\n      }\n    }\n  }]);\n\n  return EditFlavourProfile;\n}(Component);\n\nexport { EditFlavourProfile as default };\nvar styles = StyleSheet.create({\n  page: {\n    marginTop: 50\n  }\n});","map":{"version":3,"sources":["/Users/arjun/Desktop/taste-it-customer/components/screens/profileScreens/EditFlavourProfile.js"],"names":["NavigationContainer","createMaterialTopTabNavigator","React","Component","AllergyOptions","CuisineOptions","DietTypes","H1","SpicinessOptions","getSpiciness","getAllergy","getCuisine","getDietType","postChoice","getCustomerChoices","getDeactivateChoices","MaterialTopTabs","EditFlavourProfile","props","onNext","then","res","console","log","error","Alert","alert","spicinessArray","getSelectedSpiciness","cuisinesArray","getSelectedCuisines","dietTypesArray","getSelectedDietTypes","allergiesArray","getSelectedAllergies","finalArray","state","isSpiciness","isAllergies","isCuisines","isDietTypes","i","length","navigation","navigate","handleSpicinessChange","update","setState","spicinessData","handleAllergiesChange","allergiesData","handleDietTypesChange","dietTypesData","handleCuisinesChange","cuisinesData","createTopTabs","isLoaded","isChoicesLoaded","bind","needData","push","id","key","choiceDescription","checked","category","k","keys","map","checks","Selected","flex","justifyContent","alignItems","styles","page","StyleSheet","create","marginTop"],"mappings":"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","sourcesContent":["import { NavigationContainer } from \"@react-navigation/native\";\nimport { createMaterialTopTabNavigator } from \"@react-navigation/material-top-tabs\";\nimport React, { Component } from \"react\";\nimport {\n  Text,\n  StyleSheet,\n  ScrollView,\n  View,\n  Button,\n  Alert,\n  ActivityIndicator\n} from \"react-native\";\nimport AllergyOptions from \"../onboardingScreens/flavourProfile/AllergyOptions\";\nimport CuisineOptions from \"../onboardingScreens/flavourProfile/CuisineOptions\";\nimport DietTypes from \"../onboardingScreens/flavourProfile/DietTypes\";\nimport H1 from \"../../texts/H1\";\nimport SpicinessOptions from \"../onboardingScreens/flavourProfile/SpicinessOptions\";\nimport {\n  getSpiciness,\n  getAllergy,\n  getCuisine,\n  getDietType,\n  postChoice, getCustomerChoices, getDeactivateChoices\n} from \"../../../services/api\";\n\nconst MaterialTopTabs = createMaterialTopTabNavigator();\n\n\nexport default class EditFlavourProfile extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          spicinessData: [],\n          allergiesData: [],\n          dietTypesData: [],\n          cuisinesData: [],\n          isLoaded: true,\n          isSpiciness: true,\n          isCuisines: true,\n          isDietTypes: true,\n          isAllergies: true,\n          isChoicesLoaded: true\n        };\n        this.handleSpicinessChange = this.handleSpicinessChange.bind(this);\n        this.getSelectedSpiciness = this.getSelectedSpiciness.bind(this);\n      }\n\n\n\n // ***************************************get data from server through api *********************************************/\n componentDidMount() {\n    getSpiciness().then(\n      (res) => {\n        this.setState({\n          isLoaded: false,\n        });\n        let needData = [];\n        for (let i = 0; i < res.length; i++) {\n          needData.push({\n            id: i,\n            key: res[i].choiceDescription,\n            checked: false,\n          });\n        }\n        this.setState({\n          spicinessData: needData,\n        });\n      },\n      (error) => {\n        Alert.alert(\"Error\", `Something went wrong! ${error}`);\n      }\n    );\n    getDietType().then(\n      (res) => {\n        this.setState({\n          isLoaded: false,\n        });\n        let needData = [];\n        for (let i = 0; i < res.length; i++) {\n          needData.push({\n            id: i,\n            key: res[i].choiceDescription,\n            checked: false,\n          });\n        }\n        this.setState({\n          dietTypesData: needData,\n        });\n      },\n      (error) => {\n        Alert.alert(\"Error\", `Something went wrong! ${error}`);\n      }\n    );\n    getCuisine().then(\n      (res) => {\n        this.setState({\n          isLoaded: false,\n        });\n        let needData = [];\n        for (let i = 0; i < res.length; i++) {\n          needData.push({\n            id: i,\n            key: res[i].choiceDescription,\n            checked: false,\n          });\n        }\n        this.setState({\n          cuisinesData: needData,\n        });\n      },\n      (error) => {\n        Alert.alert(\"Error\", `Something went wrong! ${error}`);\n      }\n    );\n    getAllergy().then(\n        (res) => {\n          let needData = [];\n          for (let i = 0; i < res.length; i++) {\n            needData.push({\n              id: i,\n              key: res[i].choiceDescription,\n              checked: false,\n            });\n          }\n          this.setState({\n            allergiesData: needData,\n          });\n        //   console.log(this.state.allergiesData);\n        },\n        (error) => {\n          Alert.alert(\"Error\", `Something went wrong! ${error}`);\n        }\n      );\n    getCustomerChoices().then(\n        (res) => {\n            for(let i=0; i<res.length; i++){\n                if(res[i].category === \"Allergens\"){\n                    for(let k=0;k<this.state.allergiesData.length;k++){\n                        if(this.state.allergiesData[k].key === res[i].choiceDescription){\n                            this.state.allergiesData[k].checked = true\n                        }\n                    }\n                }else if(res[i].category === \"Spiciness\"){\n                    for(let k=0;k<this.state.spicinessData.length;k++){\n                        if(this.state.spicinessData[k].key === res[i].choiceDescription){\n                            this.state.spicinessData[k].checked = true\n                        }\n                    }\n                }else if(res[i].category === \"Cuisines\"){\n                    for(let k=0;k<this.state.cuisinesData.length;k++){\n                        if(this.state.cuisinesData[k].key === res[i].choiceDescription){\n                            this.state.cuisinesData[k].checked = true\n                        }\n                    }\n                }else if(res[i].category === \"Diet Types\"){\n                    for(let k=0;k<this.state.dietTypesData.length;k++){\n                        if(this.state.dietTypesData[k].key === res[i].choiceDescription){\n                            this.state.dietTypesData[k].checked = true\n                        }\n                    }\n                }\n            }\n            this.setState({\n                isChoicesLoaded: false,\n                isSpiciness: false,\n          isCuisines: false,\n          isDietTypes: false,\n          isAllergies: false,\n              });\n            \n        },\n      (error) => {\n        Alert.alert(\"Error\", `Something went wrong! ${error}`);\n      }\n    )\n  }\n\n  // *************************************** get desired arrays from all the choices*********************************************/\n  getSelectedSpiciness() {\n    const keys = this.state.spicinessData.map((k) => k.key);\n    var checks = this.state.spicinessData.map((k) => k.checked);\n    let Selected = [];\n    for (let i = 0; i < checks.length; i++) {\n      if (checks[i] == true) {\n        Selected.push(keys[i]);\n      }\n    }\n    this.setState({\n      isSpiciness: false,\n    });\n    return Selected;\n  }\n  getSelectedCuisines() {\n    const keys = this.state.cuisinesData.map((k) => k.key);\n    var checks = this.state.cuisinesData.map((k) => k.checked);\n    let Selected = [];\n    for (let i = 0; i < checks.length; i++) {\n      if (checks[i] == true) {\n        Selected.push(keys[i]);\n      }\n    }\n    this.setState({\n      isCuisines: false,\n    });\n    return Selected;\n  }\n  getSelectedDietTypes() {\n    const keys = this.state.dietTypesData.map((k) => k.key);\n    var checks = this.state.dietTypesData.map((k) => k.checked);\n    let Selected = [];\n    for (let i = 0; i < checks.length; i++) {\n      if (checks[i] == true) {\n        Selected.push(keys[i]);\n      }\n    }\n    this.setState({\n      isDietTypes: false,\n    });\n    return Selected;\n  }\n  getSelectedAllergies() {\n    const keys = this.state.allergiesData.map((k) => k.key);\n    var checks = this.state.allergiesData.map((k) => k.checked);\n    let Selected = [];\n    for (let i = 0; i < checks.length; i++) {\n      if (checks[i] == true) {\n        Selected.push(keys[i]);\n      }\n    }\n    this.setState({\n      isAllergies: false,\n    });\n    return Selected;\n  }\n\n  onNext = () => {\n      getDeactivateChoices().then(\n          (res) => {\n              console.log(res)\n            \n          },(error) => {\n            console.log(error);\n            Alert.alert(\"Error\", `Something went wrong! ${error}`);\n          }\n      )\n    const spicinessArray = this.getSelectedSpiciness();\n      const cuisinesArray = this.getSelectedCuisines();\n      const dietTypesArray = this.getSelectedDietTypes();\n      const allergiesArray = this.getSelectedAllergies();\n      const finalArray = [\n        ...spicinessArray,\n        ...cuisinesArray,\n        ...dietTypesArray,\n        ...allergiesArray,\n      ];\n    if (this.state.isSpiciness !== true || this.state.isAllergies !== true || this.state.isCuisines !== true || this.state.isDietTypes !== true) {\n      for (let i = 0; i < finalArray.length; i++) {\n        postChoice(finalArray[i]).then(\n          (res) => {\n            console.log(res)\n          },\n          (error) => {\n            console.log(error);\n            Alert.alert(\"Error\", `Something went wrong! ${error}`);\n          }\n        );\n      } \n      Alert.alert(\"successfull\",\"choices saved\")\n      this.props.navigation.navigate(\"Footer\")\n    }\n    else if(this.state.isSpiciness  === true && this.state.isAllergies === true && this.state.isCuisines === true && this.state.isDietTypes === true) {\n      Alert.alert(\n        \"Choices Missing\", \"Please Select Choices by switching tabs\"\n      );\n    }\n  };\n  // ***************************************change state dynimacally when user clicks any checkbox return an updated array *********************************************/\n  handleSpicinessChange = (update) => {\n    this.setState({\n      spicinessData: update,\n    });\n    // console.log(this.state.spicinessData);\n  };\n  handleAllergiesChange = (update) => {\n    this.setState({\n      allergiesData: update,\n    });\n    // console.log(this.state.allergiesData);\n  };\n  handleDietTypesChange = (update) => {\n    this.setState({\n      dietTypesData: update,\n    });\n    // console.log(this.state.dietTypesData);\n  };\n  handleCuisinesChange = (update) => {\n    this.setState({\n      cuisinesData: update,\n    });\n    // console.log(this.state.cuisinesData);\n  };\n\n  // ***************************************to render all tabs and pass props *********************************************/\n\n  createTopTabs = () => {\n    return (\n      <MaterialTopTabs.Navigator>\n        <MaterialTopTabs.Screen\n          name=\"Allergies\"\n          children={() => (\n            <AllergyOptions\n              allergies={this.state.allergiesData}\n              updateAllergies={this.handleAllergiesChange}\n            />\n          )}\n        />\n        <MaterialTopTabs.Screen\n          name=\"Cuisines\"\n          children={() => (\n            <CuisineOptions\n              cuisines={this.state.cuisinesData}\n              updateCuisines={this.handleCuisinesChange}\n            />\n          )}\n        />\n        <MaterialTopTabs.Screen\n          name=\"Diet Choices\"\n          children={() => (\n            <DietTypes\n              dietTypes={this.state.dietTypesData}\n              updateDietTypes={this.handleDietTypesChange}\n            />\n          )}\n        />\n        <MaterialTopTabs.Screen\n          name=\"Spiciness\"\n          children={() => (\n            <SpicinessOptions\n              spiciness={this.state.spicinessData}\n              updateSpiciness={this.handleSpicinessChange}\n            />\n          )}\n        />\n      </MaterialTopTabs.Navigator>\n    );\n  };\n\n  // *************************************** render all components *********************************************/\n  render() {\n    if (this.state.isLoaded && this.state.isChoicesLoaded) {\n      return (\n        <View\n          style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}\n        >\n          <ActivityIndicator size=\"large\" />\n        </View>\n      );\n    }else{\n      return (\n        <ScrollView>\n          <View style={styles.page}>\n            <H1 h1Text=\"Flavour Profile\" />\n            <Text>Tell us what you love</Text>\n            <NavigationContainer independent={true}>\n              {this.createTopTabs()}\n            </NavigationContainer>\n            <Button\n              title=\"Next\"\n              onPress={\n                () => {\n                  this.onNext();\n                }\n              }\n            />\n          </View>\n        </ScrollView>\n      );\n    }\n    \n  }\n}\n\nconst styles = StyleSheet.create({\n    page: {\n      marginTop: 50,\n    },\n  });\n  "]},"metadata":{},"sourceType":"module"}