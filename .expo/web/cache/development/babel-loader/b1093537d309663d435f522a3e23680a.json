{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _jsxFileName = \"/Users/arjun/Desktop/taste-it-customer/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport SignIn from \"./components/screens/signIn/SignIn\";\nimport SignUp from \"./components/screens/signUp/SignUp\";\nimport DeliveryInfo from \"./components/screens/onboardingScreens/DeliveryInfo\";\nimport Home from \"./components/screens/home/Home\";\nimport WelcomeScreen from \"./components/screens/welcomeScreen/WelcomeScreen\";\nimport WelcomeScreen2 from \"./components/screens/onboardingScreens/WelcomeScreen2\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport AllergyOptions from \"./components/screens/onboardingScreens/flavourProfile/AllergyOptions\";\nimport FlavourProfile from \"./components/screens/onboardingScreens/flavourProfile/FlavourProfile\";\nimport { AuthContext } from \"./components/Context\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport RootStack from \"./components/RootStack\";\nimport HomeScreen from \"./components/screens/homeScreen/HomeScreen\";\nimport Footer from \"./components/footer/Footer\";\nimport OrderConfirmation from \"./components/screens/homeScreen/OrderConfirmation\";\nvar Stack = createStackNavigator();\nexport default function App() {\n  var _this = this;\n\n  var initialLoginState = {\n    isLoading: true,\n    userToken: null\n  };\n\n  var loginReducer = function loginReducer(prevState, action) {\n    switch (action.type) {\n      case \"RETRIEVE_TOKEN\":\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          userToken: action.token,\n          isLoading: false\n        });\n\n      case \"LOGIN\":\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          userToken: action.token,\n          isLoading: false\n        });\n\n      case \"LOGOUT\":\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          userToken: null,\n          isLoading: false\n        });\n\n      case \"REGISTER\":\n        return _objectSpread(_objectSpread({}, prevState), {}, {\n          userToken: action.token,\n          isLoading: false\n        });\n    }\n  };\n\n  var _React$useReducer = React.useReducer(loginReducer, initialLoginState),\n      _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n      loginState = _React$useReducer2[0],\n      dispatch = _React$useReducer2[1];\n\n  var authContext = React.useMemo(function () {\n    return {\n      signIn: function signIn(foundUser) {\n        var userToken;\n        return _regeneratorRuntime.async(function signIn$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                userToken = foundUser;\n                console.log(userToken);\n                _context.prev = 2;\n                _context.next = 5;\n                return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"userToken\", userToken));\n\n              case 5:\n                _context.next = 10;\n                break;\n\n              case 7:\n                _context.prev = 7;\n                _context.t0 = _context[\"catch\"](2);\n                console.log(_context.t0);\n\n              case 10:\n                dispatch({\n                  type: \"LOGIN\",\n                  token: userToken\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, [[2, 7]], Promise);\n      },\n      signOut: function signOut() {\n        return _regeneratorRuntime.async(function signOut$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return _regeneratorRuntime.awrap(AsyncStorage.removeItem(\"userToken\"));\n\n              case 3:\n                _context2.next = 8;\n                break;\n\n              case 5:\n                _context2.prev = 5;\n                _context2.t0 = _context2[\"catch\"](0);\n                console.log(_context2.t0);\n\n              case 8:\n                dispatch({\n                  type: \"LOGOUT\"\n                });\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, [[0, 5]], Promise);\n      },\n      signUp: function signUp(foundUser) {\n        var userToken;\n        return _regeneratorRuntime.async(function signUp$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                userToken = foundUser;\n                _context3.prev = 1;\n                _context3.next = 4;\n                return _regeneratorRuntime.awrap(AsyncStorage.setItem(\"userToken\", userToken));\n\n              case 4:\n                _context3.next = 9;\n                break;\n\n              case 6:\n                _context3.prev = 6;\n                _context3.t0 = _context3[\"catch\"](1);\n                console.log(_context3.t0);\n\n              case 9:\n                dispatch({\n                  type: \"REGISTER\",\n                  token: userToken\n                });\n\n              case 10:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, null, null, [[1, 6]], Promise);\n      }\n    };\n  }, []);\n  useEffect(function () {\n    setTimeout(function _callee() {\n      var userToken;\n      return _regeneratorRuntime.async(function _callee$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              userToken = null;\n              _context4.prev = 1;\n              _context4.next = 4;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"userToken\"));\n\n            case 4:\n              userToken = _context4.sent;\n              _context4.next = 10;\n              break;\n\n            case 7:\n              _context4.prev = 7;\n              _context4.t0 = _context4[\"catch\"](1);\n              console.log(_context4.t0);\n\n            case 10:\n              dispatch({\n                type: \"RETRIEVE_TOKEN\",\n                token: userToken\n              });\n\n            case 11:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, null, null, [[1, 7]], Promise);\n    }, 1000);\n  }, []);\n\n  if (loginState.isLoading) {\n    return React.createElement(View, {\n      style: {\n        flex: 1,\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 7\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  var Root = function Root() {\n    return React.createElement(Stack.Navigator, {\n      style: styles.container,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 7\n      }\n    }, React.createElement(Stack.Screen, {\n      name: \"OrderConfirmation\",\n      component: OrderConfirmation,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }\n    }), React.createElement(Stack.Screen, {\n      name: \"WelcomeScreen2\",\n      component: WelcomeScreen2,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }\n    }), React.createElement(Stack.Screen, {\n      name: \"Footer\",\n      component: Footer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }), React.createElement(Stack.Screen, {\n      name: \"DeliveryInfo1\",\n      component: DeliveryInfo,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }), React.createElement(Stack.Screen, {\n      name: \"FlavourProfile\",\n      component: FlavourProfile,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }), React.createElement(Stack.Screen, {\n      name: \"HomeScreen\",\n      component: HomeScreen,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  return React.createElement(AuthContext.Provider, {\n    value: authContext,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 5\n    }\n  }, React.createElement(NavigationContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 7\n    }\n  }, loginState.userToken !== null ? Root() : React.createElement(Stack.Navigator, {\n    initialRouteName: \"WelcomeScreen1\",\n    independent: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 11\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"Home\",\n    component: Home,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"WelcomeScreen1\",\n    component: WelcomeScreen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 13\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"SignIn\",\n    component: SignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"SignUp\",\n    component: SignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Root\",\n    component: Root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    maxWidth: Dimensions.get(\"window\").width,\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  }\n});","map":{"version":3,"sources":["/Users/arjun/Desktop/taste-it-customer/App.js"],"names":["React","useEffect","SignIn","SignUp","DeliveryInfo","Home","WelcomeScreen","WelcomeScreen2","NavigationContainer","createStackNavigator","AllergyOptions","FlavourProfile","AuthContext","AsyncStorage","RootStack","HomeScreen","Footer","OrderConfirmation","Stack","App","initialLoginState","isLoading","userToken","loginReducer","prevState","action","type","token","useReducer","loginState","dispatch","authContext","useMemo","signIn","foundUser","console","log","setItem","signOut","removeItem","signUp","setTimeout","getItem","flex","justifyContent","alignItems","Root","styles","container","StyleSheet","create","maxWidth","Dimensions","get","width","backgroundColor"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n  StyleSheet,\n  Dimensions,\n  View,\n  Text,\n  ActivityIndicator,\n} from \"react-native\";\nimport SignIn from \"./components/screens/signIn/SignIn\";\nimport SignUp from \"./components/screens/signUp/SignUp\";\nimport DeliveryInfo from \"./components/screens/onboardingScreens/DeliveryInfo\";\nimport Home from \"./components/screens/home/Home\";\nimport WelcomeScreen from \"./components/screens/welcomeScreen/WelcomeScreen\";\nimport WelcomeScreen2 from \"./components/screens/onboardingScreens/WelcomeScreen2\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport AllergyOptions from \"./components/screens/onboardingScreens/flavourProfile/AllergyOptions\";\nimport FlavourProfile from \"./components/screens/onboardingScreens/flavourProfile/FlavourProfile\";\nimport { AuthContext } from \"./components/Context\";\nimport AsyncStorage from \"@react-native-community/async-storage\";\nimport RootStack from \"./components/RootStack\";\nimport HomeScreen from \"./components/screens/homeScreen/HomeScreen\";\nimport Footer from \"./components/footer/Footer\";\nimport OrderConfirmation from \"./components/screens/homeScreen/OrderConfirmation\";\n\nconst Stack = createStackNavigator();\n\nexport default function App() {\n  const initialLoginState = {\n    isLoading: true,\n\n    userToken: null,\n  };\n\n  const loginReducer = (prevState, action) => {\n    switch (action.type) {\n      case \"RETRIEVE_TOKEN\":\n        return {\n          ...prevState,\n          userToken: action.token,\n          isLoading: false,\n        };\n      case \"LOGIN\":\n        return {\n          ...prevState,\n          userToken: action.token,\n          isLoading: false,\n        };\n      case \"LOGOUT\":\n        return {\n          ...prevState,\n\n          userToken: null,\n          isLoading: false,\n        };\n      case \"REGISTER\":\n        return {\n          ...prevState,\n\n          userToken: action.token,\n          isLoading: false,\n        };\n    }\n  };\n\n  const [loginState, dispatch] = React.useReducer(\n    loginReducer,\n    initialLoginState\n  );\n\n  const authContext = React.useMemo(\n    () => ({\n      signIn: async (foundUser) => {\n        const userToken = foundUser;\n\n        console.log(userToken);\n        try {\n          await AsyncStorage.setItem(\"userToken\", userToken);\n        } catch (e) {\n          console.log(e);\n        }\n\n        dispatch({ type: \"LOGIN\", token: userToken });\n      },\n      signOut: async () => {\n        try {\n          await AsyncStorage.removeItem(\"userToken\");\n        } catch (e) {\n          console.log(e);\n        }\n        dispatch({ type: \"LOGOUT\" });\n      },\n      signUp: async (foundUser) => {\n        const userToken = foundUser;\n\n        try {\n          await AsyncStorage.setItem(\"userToken\", userToken);\n        } catch (e) {\n          console.log(e);\n        }\n\n        dispatch({ type: \"REGISTER\", token: userToken });\n      },\n    }),\n    []\n  );\n\n  useEffect(() => {\n    setTimeout(async () => {\n      let userToken;\n      userToken = null;\n      try {\n        userToken = await AsyncStorage.getItem(\"userToken\");\n      } catch (e) {\n        console.log(e);\n      }\n      dispatch({ type: \"RETRIEVE_TOKEN\", token: userToken });\n    }, 1000);\n  }, []);\n\n  if (loginState.isLoading) {\n    return (\n      <View style={{ flex: 1, justifyContent: \"center\", alignItems: \"center\" }}>\n        <ActivityIndicator size=\"large\" />\n      </View>\n    );\n  }\n  const Root = () => {\n    return (\n      <Stack.Navigator style={styles.container}>\n        <Stack.Screen name=\"OrderConfirmation\" component={OrderConfirmation} />\n        <Stack.Screen name=\"WelcomeScreen2\" component={WelcomeScreen2} />\n        <Stack.Screen name=\"Footer\" component={Footer} />\n        <Stack.Screen name=\"DeliveryInfo1\" component={DeliveryInfo} />\n        <Stack.Screen name=\"FlavourProfile\" component={FlavourProfile} />\n        <Stack.Screen name=\"HomeScreen\" component={HomeScreen} />\n      </Stack.Navigator>\n    );\n  };\n  // const Root1 = () => {\n  //   return (\n  //     <Stack.Navigator style={styles.container}>\n  //       <Stack.Screen name=\"Footer\" component={Footer} />\n  //       <Stack.Screen name=\"WelcomeScreen2\" component={WelcomeScreen2} />\n  //       <Stack.Screen name=\"WelcomeScreen1\" component={WelcomeScreen} />\n  //       <Stack.Screen name=\"DeliveryInfo1\" component={DeliveryInfo} />\n  //       <Stack.Screen name=\"FlavourProfile\" component={FlavourProfile} />\n  //       <Stack.Screen name=\"HomeScreen\" component={HomeScreen} />\n\n  //     </Stack.Navigator>\n  //   );\n  // };\n\n  return (\n    <AuthContext.Provider value={authContext}>\n      <NavigationContainer>\n        {loginState.userToken !== null ? (\n          Root()\n        ) : (\n          <Stack.Navigator initialRouteName=\"WelcomeScreen1\" independent={true}>\n            <Stack.Screen name=\"Home\" component={Home} />\n            <Stack.Screen name=\"WelcomeScreen1\" component={WelcomeScreen} />\n            <Stack.Screen name=\"SignIn\" component={SignIn} />\n            <Stack.Screen name=\"SignUp\" component={SignUp} />\n            <Stack.Screen name=\"Root\" component={Root} />\n            {/* <Stack.Screen name=\"Root1\" component={Root1} /> */}\n          </Stack.Navigator>\n        )}\n      </NavigationContainer>\n    </AuthContext.Provider>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    maxWidth: Dimensions.get(\"window\").width,\n    flex: 1,\n    backgroundColor: \"#fff\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}